import { buildImgixUrl } from "@parameter1/base-cms-image";

$ const { site, req } = out.global;

$ const src = site.get("blocks.eposters.src") ? site.get("blocks.eposters.src") : false;
$ const imgixUrl = buildImgixUrl(src, { h: 250 });
$ const srcset = [`${buildImgixUrl(imgixUrl, { h: 250, dpr: 2 })} 2x`];
$ const href = site.get("blocks.eposters.href") ? site.get("blocks.eposters.href") : false;

<if(src && href)>
  <div class="ad-container ad-container--top-of-page ad-container--center ad-container--max-width-300">
    <marko-web-img
      src=imgixUrl
      srcset=srcset
      lazyload=true
      link={ href, target: "_blank" }
    />
  </div>
</if>
